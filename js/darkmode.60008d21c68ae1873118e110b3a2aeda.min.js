const userPref=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",currentTheme=localStorage.getItem("theme")??userPref;currentTheme&&document.documentElement.setAttribute("saved-theme",currentTheme);const switchTheme=e=>{e.target.checked?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("saved-theme","dark")):(localStorage.setItem("theme","light"),document.documentElement.setAttribute("saved-theme","light")),GnuplotRenderer.renderPage()};window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#darkmode-toggle");e.addEventListener("change",switchTheme,!1),currentTheme==="dark"&&(e.checked=!0)})